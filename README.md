# Знакомство с базами данных

## Задание

Есть некоторый [csv-файл](./phones.csv), который выгружается с сайта-партнера. Этот сайт занимается продажей телефонов.
Мы же являемся их региональными представителями, поэтому нам необходимо взять данные из этого файла и отобразить 
их на нашем сайте на странице каталога, с их предварительным сохранением в базу данных.

## Реализация

Что сделано:
* В файле `models.py` нашего приложения создаем модель Phone с полями `id`, `name`, `price`, `image`, `release_date`, `lte_exists` и `slug`. Поле `id` - должно быть основным ключом модели.
* Значение поля `slug` должно устанавливлено слагифицированным значением поля `name`.
* Написан скрипт для переноса данных из csv-файла в модель `Phone`. 
Скрипт размещен в файле `import_phones.py` в методе `handle(self, *args, **options)`
* При запросе `<имя_сайта>/catalog` - открывается страница с отображением всех телефонов.
* При запросе `<имя_сайта>/catalog/iphone-x` - открывается страница с отображением информации по телефону.
* В каталоге добавлена возможность менять порядок отображения товаров: по названию (в алфавитном порядке) и по цене 
  (по-убыванию и по-возрастанию).
* Для переноса данных из файла в модель воспользоваться стандартной библиотекой языка python : `csv` (рекомендуется)
 
## Документация по проекту

Для запуска проекта необходимо:

**В файл main/databases_setting.py ввести свои данные**

Установить зависимости:
```bash
pip install -r requirements.txt
```

Выполнить следующие команды:

* Команда для создания миграций приложения для базы данных
```bash
python manage.py migrate
```

* Команда для загрузки данных из csv в БД
```bash
python manage.py import_phones
```

* Команда для запуска приложения
```bash
python manage.py runserver
```

* При создании моделей или их изменении необходимо выполнить следующие команды:
```bash
python manage.py makemigrations
python manage.py migrate
```

![Каталог с телефонами](res/catalog.png)
